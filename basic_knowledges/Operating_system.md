# 操作系统
[返回主页](../../research-study/readme.md) 
[返回嵌入式学习](https://github.com/Xiangjiajia-new/StudyNotes/tree/main)
[toc]

参考书：
1. [操作系统：三条简单原理](https://github.com/remzi-arpacidusseau/ostep-translations/tree/master/chinese)
2. [操作系统：三条简单原理(gitee)](https://gitee.com/pj4746/ostep-translations/tree/master/chinese)
3. 嵌入式与实时操作系统(K.C. Wang著)——纸质书


## 知识结构
[操作系统思维导图pdf](docs/操作系统.pdf)

 ||进程管理|内存管理|文件管理|
---|---|---|---|
抽象|进程 ,并发,线程<br>锁,条件变量<br> |地址空间<br>|文件系统，驱动
机制|受限直接执行<br>进程切换<br>信号量<br>|地址转换<br>分页<br>虚拟内存<br>|日志文件系统
策略|先进先出<br>短任务优先<br>最短完成时间优先<br>轮转<br>多级反馈队列<br>比例份额<br>多处理器调度|缓存管理<br>最优替换策略<br>|文件目录管理<br>存储空间管理

## 操作系统导论

1. 冯诺依曼计算机模型
   1. 一个**正在运行的程序**会做一件非常简单的事情：执行指令。处理器从内存中获取（fetch）一条指令，对其进行解码（decode）（弄清楚这是哪条指令），然后执行（execute）它（做它应该做的事情，如两个数相加、访问内存、检查条件、跳转到函数等）。完成这条指令后，处理器继续执行下一条指令，依此类推，直到程序最终完成。
2. 操作系统
   1. 有一类软件负责让**程序运行变得容易**（甚至允许你同时运行多个程序），允许程序共享内存，让程序能够与设备交互，以及其他类似的有趣的工作。这些软件称为操作系统（Operating System，OS）。
   2. 操作系统有时被称为资源操理器（resource manager）。每个 CPU、内存和磁盘都是系统的资源（resource），因此操作系统扮演的主要角色就是操理（manage）这些资源，以做到高效或公平，或者实际上考虑其他许多可能的目标。
3. 虚拟化
   1. 操作系统主要利用的一种通用技术，操作系统将物理（physical）资源（如处理器、内存或磁盘）转换为更通用、更强大且更易于使用的虚拟形式。
4. 系统调用
   1. 为了让用户可以告诉操作系统做什么，从而**利用虚拟机的功能**（如运行程序、分配内存或访问文件），操作系统还提供了一些**接口（API）**，供你调用。
   2. 实际上，典型的操作系统会提供几百个系统调用（system call），让应用程序调用。由于操作系统提供这些调用来运行程序、访问内存和设备，甚进行其他相关操作，我们有时也会说操作系统为应用程序提供了一个标准库（standard library）。
5. CPU虚拟化(机制)
   1. 将单个 CPU（或其中一小部分）转换为看似无限数量的 CPU，从而让许多程序看似同时运行
6. 虚拟化内存
   1. 每个进程访问自己的私有虚拟地址空间（virtual address space）（有时称为地址空间，address space），操作系统以某种方式映射到机器的物理内存上。
   2. 一个正在运行的程序中的内存引用不会影响其他进程（或操作系统本身）的地址空间。对于正在运行的程序，它完全拥有自己的物理内存。但实际情况是，物理内存是由操作系统管理的共享资源。
7. 并发问题
   1. 操作系统在同时（甚发地）处理很多事情时会出现的一些问题。
   2. 甚发问题不再局限于操作系统本身。事实上,现代多线程(multi-threaded)程序也存在相同的问题。
8. 持久性
   1. (易失性)在系统内存中，数据容易丢失，因为像DRAM 这样的设备以易失（volatile）的方式存储数值。如果断电或系统崩溃，那么内存中的所有数据都会丢失。
   2. 因此，我们需要硬件和软件来持久地（persistently）存储数据。这样的存储对于所有系统都很重要，因为用户非常关心他们的数据。
9. 硬盘驱动器和固态硬盘
   1.  硬件以某种输入/输出（Input/Output，I/O）设备的形式出现。
   2.  在现代系统中，硬盘驱动器（hard drive）是存储长期保存的信息的通用存储库，尽操固态硬盘（Solid-State Drive，SSD）正在这个领域取得领先地位。
10. 文件系统
    1. 操作系统中操理磁盘的软件
    2. 因此它负责以可靠和高效的方式，将用户创建的任何文件（file）存储在系统的磁盘上。
    3. 不像操作系统为 CPU 和内存提供的抽象，操作系统不会为每个应用程序创建专用的虚拟磁盘。相反，它假设用户经常需要共享（share）文件中的信息。
 11. 机制——能力；策略——解决问题的方法
 12. 物理内存模型
 13. 写入协议
     1.  为了处理写入期间系统崩溃的问题
 14. 建立系统的目标
     1.  建立一些抽象(abstraction),让系统方便和易于使用
     2.  提供高性能(performance)，必须努力提供虚拟化和其他操作系统功能,同时没有过多的开销
     3.  在应用程序之间以及在 OS 和应用程序之间提供保护(protection)。
         1.  让进程彼此隔离是保护的关键
     4.  可靠性；能源效率；安全性；移动性
 15. 操作系统的发展
11. 
## 进程管理
### 抽象概念
1. 进程
2. 线程
3. 